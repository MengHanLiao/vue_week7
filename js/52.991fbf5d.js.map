{"version":3,"file":"js/52.991fbf5d.js","mappings":"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","sources":["webpack://vue_week7/./src/views/AdminProducts.vue","webpack://vue_week7/./src/components/ProductModal.vue","webpack://vue_week7/./src/components/ProductModal.vue?b0ff","webpack://vue_week7/./src/views/AdminProducts.vue?cec0"],"sourcesContent":["<template>\n  <div class=\"container my-5\">\n    <div class=\"d-flex justify-content-between mb-3\">\n      <h2>產品列表</h2>\n      <button class=\"btn btn-primary\" type=\"button\" @click=\"openProductModal(true)\">\n        新增產品\n      </button>\n    </div>\n    <div class=\"table-responsive\">\n      <table class=\"table align-middle mb-4\">\n        <thead>\n          <tr>\n            <th scope=\"col\" width=\"120px\">主圖</th>\n            <th scope=\"col\">類型</th>\n            <th scope=\"col\">名稱</th>\n            <th scope=\"col\">原價</th>\n            <th scope=\"col\">售價</th>\n            <th scope=\"col\">上架</th>\n            <th scope=\"col\" class=\"text-end\">操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-if=\"products.length === 0\">\n            <tr>\n              <th colspan=\"5\">目前沒有商品，新增商品吧！</th>\n            </tr>\n          </template>\n          <template v-else>\n            <tr v-for=\"product in products\" :key=\"product.id\">\n              <td>\n                <img :src=\"product.imageUrl\" alt=\"\" class=\"table-img\" />\n              </td>\n              <td>{{ product.title }}</td>\n              <td>{{ product.category }}</td>\n              <td>{{ product.origin_price }}</td>\n              <td>{{ product.price }}</td>\n              <td>\n                <span v-if=\"product.is_enabled\" class=\"text-success fw-bold\">已上架</span>\n                <span v-else class=\"text-danger fw-bold\">未上架</span>\n              </td>\n              <td class=\"text-end\">\n                <div class=\"btn-group\" role=\"group\" aria-label=\"operateBtn\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-primary\"\n                    @click=\"openProductModal(false, product)\"\n                  >\n                    編輯\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"openDeleteModal(product)\"\n                  >\n                    刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </template>\n        </tbody>\n      </table>\n      <PaginationComponent\n        :page-data=\"pagination\"\n        @emit-page=\"getProducts\"\n      ></PaginationComponent>\n    </div>\n    <productModal\n      ref=\"productModal\"\n      :product=\"tempProduct\"\n      @emit-product=\"updateProduct\"\n    ></productModal>\n    <deleteConfirm\n      ref=\"deleteModal\"\n      :delete-item=\"tempProduct\"\n      @emit-delete=\"deleteProduct\"\n    ></deleteConfirm>\n  </div>\n</template>\n\n<style>\n.table-img {\n  width: 100px;\n  height: 75px;\n  object-fit: cover;\n}\n</style>\n\n<script>\nimport PaginationComponent from '../components/PaginationComponent.vue';\nimport productModal from '../components/ProductModal.vue';\nimport deleteConfirm from '../components/DeleteConfirm.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: true,\n    };\n  },\n  components: {\n    PaginationComponent,\n    productModal,\n    deleteConfirm,\n  },\n  methods: {\n    getProducts(target = 1) {\n      const loader = this.$loading.show();\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API_BASEURL}/api/${process.env.VUE_APP_PATH}/admin/products?page=${target}`,\n        )\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          loader.hide();\n        })\n        .catch((err) => {\n          console.dir(err);\n          loader.hide();\n        });\n    },\n    openProductModal(isNew, product) {\n      if (isNew) {\n        this.tempProduct = {};\n        this.isNew = true;\n      } else {\n        this.tempProduct = product;\n        this.isNew = false;\n      }\n      const controlPrdouctModal = this.$refs.productModal;\n      controlPrdouctModal.openModal();\n    },\n    updateProduct(obj) {\n      let method = 'post';\n      let url = `${process.env.VUE_APP_API_BASEURL}/api/${process.env.VUE_APP_PATH}/admin/product`;\n      if (!this.isNew) {\n        method = 'put';\n        url = `${process.env.VUE_APP_API_BASEURL}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      }\n      this.$http[method](url, { data: obj })\n        .then((res) => {\n          this.$httpMessageState({\n            style: 'success',\n            title: '產品更新',\n            content: res.data.message,\n          });\n          this.getProducts();\n          const controlPrdouctModal = this.$refs.productModal;\n          controlPrdouctModal.closeModal();\n        })\n        .catch((err) => {\n          this.$httpMessageState({\n            style: 'danger',\n            title: '產品更新',\n            content: err.response.data.message,\n          });\n        });\n    },\n    openDeleteModal(product) {\n      this.tempProduct = { ...product };\n      const controlDeleteModal = this.$refs.deleteModal;\n      controlDeleteModal.openModal();\n    },\n    deleteProduct() {\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API_BASEURL}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`,\n        )\n        .then((res) => {\n          this.$httpMessageState({\n            style: 'success',\n            title: '產品刪除',\n            content: res.data.message,\n          });\n          this.getProducts();\n          const controlDeleteModal = this.$refs.deleteModal;\n          controlDeleteModal.closeModal();\n        })\n        .catch((err) => {\n          this.$httpMessageState({\n            style: 'danger',\n            title: '產品刪除',\n            content: err.response.data.message,\n          });\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"productModal\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">編輯產品</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <form>\n            <div class=\"row\">\n              <div class=\"col-lg-8\">\n                <div class=\"row justify-content-md-center\">\n                  <div class=\"mb-3\">\n                    <label for=\"productName\" class=\"form-label\">商品名稱</label>\n                    <input\n                      v-model.trim=\"tempProduct.title\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productName\"\n                      placeholder=\"商品名稱\"\n                    />\n                  </div>\n                  <div class=\"col-6 mb-3\">\n                    <label for=\"productCategory\" class=\"form-label\">類別</label>\n                    <input\n                      v-model.trim=\"tempProduct.category\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productCategory\"\n                      placeholder=\"類別\"\n                    />\n                  </div>\n                  <div class=\"col-6 mb-3\">\n                    <label for=\"productUnit\" class=\"form-label\">單位</label>\n                    <input\n                      v-model.trim=\"tempProduct.unit\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productUnit\"\n                      placeholder=\"碗、份\"\n                    />\n                  </div>\n                  <div class=\"col-6 mb-3\">\n                    <label for=\"originalPrice\" class=\"form-label\">原價</label>\n                    <input\n                      v-model.number=\"tempProduct.origin_price\"\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"originalPrice\"\n                      placeholder=\"請填入數字\"\n                    />\n                  </div>\n                  <div class=\"col-6 mb-3\">\n                    <label for=\"productPrice\" class=\"form-label\">售價</label>\n                    <input\n                      v-model.number=\"tempProduct.price\"\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"productName\"\n                      placeholder=\"請填入數字\"\n                    />\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"productName\" class=\"form-label\"\n                      >內容與成分</label\n                    >\n                    <input\n                      v-model.trim=\"tempProduct.content\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productPrice\"\n                      placeholder=\"內容與成分\"\n                    />\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"productDescription\" class=\"form-label\"\n                      >商品描述</label\n                    >\n                    <textarea\n                      v-model.trim=\"tempProduct.description\"\n                      class=\"form-control\"\n                      id=\"productDescription\"\n                      rows=\"3\"\n                      placeholder=\"說點什麼...\"\n                    ></textarea>\n                  </div>\n                  <div class=\"form-check mb-3\">\n                    <input\n                      v-model=\"tempProduct.is_enabled\"\n                      :true-value=\"1\"\n                      :false-value=\"0\"\n                      class=\"form-check-input ms-0 me-1\"\n                      type=\"checkbox\"\n                      id=\"isEnable\"\n                    />\n                    <label class=\"form-check-label\" for=\"isEnable\">\n                      是否上架\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 mb-3\">\n                <h5>圖片區域</h5>\n                <div class=\"mb-3\">\n                  <label for=\"mainPicture\" class=\"form-label\">主要商品圖</label>\n                  <input\n                    v-model.trim=\"tempProduct.imageUrl\"\n                    class=\"form-control\"\n                    type=\"text\"\n                    id=\"mainPicture\"\n                    placeholder=\"輸入圖片網址\"\n                  />\n                  <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\" />\n                </div>\n                <div>\n                  <p>輔助商品圖</p>\n                  <template v-if=\"Array.isArray(tempProduct.imagesUrl)\">\n                    <div v-for=\"(image, key) in tempProduct.imagesUrl\" :key=\"`${key}+245134`\">\n                      <input\n                        v-model.trim=\"tempProduct.imagesUrl[key]\"\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"輸入圖片網址\"\n                      />\n                      <img class=\"img-fluid\" :src=\"tempProduct.imagesUrl[key]\" alt=\"\" />\n                    </div>\n                    <button\n                      type=\"button\"\n                      v-if=\"\n                        !tempProduct.imagesUrl.length ||\n                        tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\n                      \"\n                      class=\"btn btn-outline-primary w-100 my-2\"\n                      @click=\"tempProduct.imagesUrl.push('')\"\n                    >\n                      新增\n                    </button>\n                    <button\n                      type=\"button\"\n                      v-else\n                      class=\"btn btn-outline-danger w-100\"\n                      @click=\"tempProduct.imagesUrl.pop('')\"\n                    >\n                      刪除\n                    </button>\n                  </template>\n                  <div v-else>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-primary w-100 my-2\"\n                      @click=\"this.tempProduct.imagesUrl = ['']\"\n                    >\n                      新增\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            關閉\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalControl from '../mixins/modalControl';\n\nexport default {\n  mixins: [modalControl],\n  props: ['product'],\n  data() {\n    return {\n      tempProduct: {},\n    };\n  },\n  watch: {\n    product() {\n      this.tempProduct = {};\n      if (Object.keys(this.product).length) {\n        this.tempProduct = JSON.parse(JSON.stringify(this.product));\n      }\n    },\n  },\n  methods: {\n    updateProduct() {\n      this.$emit('emit-product', this.tempProduct);\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=681271ed\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\s1102\\\\OneDrive\\\\桌面\\\\vue_cli\\\\vue_week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=3e93300a\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport \"./AdminProducts.vue?vue&type=style&index=0&id=3e93300a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\s1102\\\\OneDrive\\\\桌面\\\\vue_cli\\\\vue_week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","width","colspan","_hoisted_8","role","_createElementBlock","_hoisted_3","type","onClick","$options","_hoisted_6","$data","length","_hoisted_7","_hoisted_9","_Fragment","key","_renderList","product","id","src","imageUrl","alt","_toDisplayString","title","category","origin_price","price","is_enabled","_hoisted_15","_hoisted_16","_createVNode","_component_PaginationComponent","onEmitPage","_component_productModal","ref","onEmitProduct","_component_deleteConfirm","onEmitDelete","tabindex","for","_hoisted_4","_hoisted_10","$event","placeholder","_hoisted_12","_hoisted_14","unit","_hoisted_18","_hoisted_20","content","_hoisted_22","description","rows","_hoisted_24","_hoisted_26","_hoisted_28","_hoisted_30","Array","isArray","imagesUrl","image","push","pop","_hoisted_33","tempProduct","_hoisted_35","mixins","modalControl","props","data","watch","this","Object","keys","JSON","parse","stringify","methods","updateProduct","$emit","__exports__","products","pagination","isNew","components","PaginationComponent","productModal","deleteConfirm","getProducts","target","loader","$loading","show","$http","get","then","res","hide","catch","err","console","dir","openProductModal","controlPrdouctModal","$refs","openModal","obj","method","url","$httpMessageState","style","message","closeModal","response","openDeleteModal","controlDeleteModal","deleteModal","deleteProduct","delete","mounted","render"],"sourceRoot":""}